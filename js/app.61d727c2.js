(function(){"use strict";var e={448:function(e,t,a){var n=a(9242),r=a(4311),s=a(6423),o=a(1020),u=a(3396);function l(e,t,a,n,r,s){const o=(0,u.up)("StartPage"),l=(0,u.up)("CountdownPage"),i=(0,u.up)("GamePage"),c=(0,u.up)("ResultPage");return(0,u.wg)(),(0,u.iD)(u.HY,null,[0===n.currentPage?((0,u.wg)(),(0,u.j4)(o,{key:0})):(0,u.kq)("",!0),1===n.currentPage?((0,u.wg)(),(0,u.j4)(l,{key:1})):(0,u.kq)("",!0),2===n.currentPage?((0,u.wg)(),(0,u.j4)(i,{key:2})):(0,u.kq)("",!0),3===n.currentPage?((0,u.wg)(),(0,u.j4)(c,{key:3})):(0,u.kq)("",!0)],64)}a(7658);var i=a(1178),c=(0,o.Q_)("forbesStore",{state:()=>({currentPage:0,forbesData:[],resultData:[],score:0,loadingData:!0}),actions:{getForbesData(){if(!this.forbesData.length){const e=(0,i.iH)((0,i.N8)());(0,i.U2)((0,i.iU)(e,"forbesData/forbesPersonList")).then((e=>{if(e.exists()){const t=e.val();Object.values(t).forEach((e=>{this.forbesData.push(e)})),this.loadingData=!1}else console.log("No data available")})).catch((e=>{console.error(e)}))}}},getters:{}}),g=a(4870),v=a.p+"img/startPage-img.bf04afa2.png";const d=e=>((0,u.dD)("data-v-002b0b74"),e=e(),(0,u.Cn)(),e),f={class:"start"},p=d((()=>(0,u._)("img",{class:"start-img",src:v,alt:""},null,-1))),b={class:"start-content"},m=d((()=>(0,u._)("div",{class:"subtitle"},"Forbes",-1))),h=d((()=>(0,u._)("div",{class:"title"},"全球百大富豪猜人名挑戰",-1))),_=["disabled"];var w={__name:"StartPage",setup(e){const t=c(),{loadingData:a,currentPage:n}=(0,o.Jk)(t);t.getForbesData();const r=()=>{n.value=1};return(e,t)=>((0,u.wg)(),(0,u.iD)("div",f,[p,(0,u._)("div",b,[m,h,(0,u._)("button",{type:"button",class:"startButton",onClick:r,disabled:(0,g.SU)(a)}," START ",8,_)])]))}},k=a(89);const P=(0,k.Z)(w,[["__scopeId","data-v-002b0b74"]]);var y=P,D=a(7139);const C={class:"countdown"};var O={__name:"CountdownPage",setup(e){const t=c(),{currentPage:a}=(0,o.Jk)(t),n=(0,g.iH)(3),r=(0,g.iH)(!1);let s=null;(0,u.bv)((()=>{r.value=!0}));const l=()=>{s=setInterval((()=>{r.value=!1,setTimeout((()=>{r.value=!0}),100),n.value-=1,0===n.value&&(clearInterval(s),a.value=2)}),1e3)};return l(),(e,t)=>((0,u.wg)(),(0,u.iD)("div",C,[(0,u._)("span",{class:(0,D.C_)({animated:r.value})},(0,D.zw)(n.value),3)]))}};const j=(0,k.Z)(O,[["__scopeId","data-v-76671858"]]);var N=j;const H={class:"game"},x=["src"],q={class:"game-question-title"},I={class:"game-question-multipleChoice"},T=["onClick","disabled"];var S={__name:"GamePage",setup(e){const t=c(),{forbesData:a,currentPage:n}=(0,o.Jk)(t),r=(0,g.iH)([]),s=(0,g.iH)(0),l=(0,g.iH)(""),i=(0,g.iH)(0),v=(0,g.iH)(!1),d=(0,g.iH)(0),f=e=>{const t=e;for(let a=t.length-1;a>0;a-=1){const e=Math.floor(Math.random()*(a+1));[t[a],t[e]]=[t[e],t[a]]}};for(let o=0;o<10;o+=1){const e=Math.floor(Math.random()*a.value.length),{personName:t}=a.value[e]||{};let{squareImage:n}=a.value[e]||{};const s="https:";n.includes(s)||(n=s+n),r.value.push({personName:t,squareImage:n,personNameArray:[{personName:t,isTrue:!0,isClick:!1}]}),a.value.splice(e,1);for(let u=0;u<3;u+=1){const e=Math.floor(Math.random()*a.value.length),t=a.value[e].personName;r.value[o].personNameArray.push({personName:t,isTrue:!1,isClick:!1})}f(r.value[o].personNameArray)}const p=(e,a)=>{v.value=!0,i.value=a;const o=e;o.isClick=!o.isClick,e.isTrue?(l.value="green",d.value+=1):l.value="red",setTimeout((()=>{s.value<9?s.value+=1:(n.value=3,t.$patch((e=>{e.resultData=r,e.score=d}))),l.value="",v.value=!1}),1e3)};return(e,t)=>((0,u.wg)(),(0,u.iD)("div",H,[(0,u._)("img",{class:"game-question-img",src:r.value[s.value].squareImage,alt:""},null,8,x),(0,u._)("span",q,(0,D.zw)(s.value+1)+".請從下列選項選出此富豪名字是哪個?",1),(0,u._)("div",I,[((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)(r.value[s.value].personNameArray,((e,t)=>((0,u.wg)(),(0,u.iD)("button",{type:"button",key:t,onClick:a=>p(e,t),class:(0,D.C_)({greenBg:t==i.value&&"green"==l.value,redBg:t==i.value&&"red"==l.value}),disabled:v.value},(0,D.zw)(e.personName),11,T)))),128))])]))}};const M=(0,k.Z)(S,[["__scopeId","data-v-18d268cc"]]);var B=M;const Z={class:"result"},A={class:"result-title"},U={class:"result-content"},z=["src"],E={class:"multipleChoice"};var F={__name:"ResultPage",setup(e){const t=c(),{resultData:a,score:n,currentPage:r}=(0,o.Jk)(t),s=()=>{r.value=0};return(e,t)=>((0,u.wg)(),(0,u.iD)("div",Z,[(0,u._)("div",A,[(0,u._)("span",null,"恭喜你答對"+(0,D.zw)((0,g.SU)(n))+"/10題！",1),(0,u._)("button",{type:"button",class:"insideButton",onClick:s},"重新開始")]),(0,u._)("div",U,[((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)((0,g.SU)(a),((e,t)=>((0,u.wg)(),(0,u.iD)("div",{class:"answer",key:t},[(0,u._)("img",{src:e.squareImage,alt:""},null,8,z),(0,u._)("div",E,[((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)(e.personNameArray,((e,t)=>((0,u.wg)(),(0,u.iD)("div",{class:(0,D.C_)(["choice",{greenBg:e.isTrue,redBg:!e.isTrue&&e.isClick}]),key:t},(0,D.zw)(e.personName),3)))),128))])])))),128))]),(0,u._)("button",{type:"button",class:"outsideButton",onClick:s},"重新開始")]))}};const J=(0,k.Z)(F,[["__scopeId","data-v-b97bf88c"]]);var R=J,Y={name:"App",components:{StartPage:y,CountdownPage:N,GamePage:B,ResultPage:R},setup(){const e=c(),{currentPage:t}=(0,o.Jk)(e);return{currentPage:t}}};const G=(0,k.Z)(Y,[["render",l]]);var K=G,L=a(4275);const Q={databaseURL:"https://forbes100-guess-challenge-data-default-rtdb.firebaseio.com",projectId:"forbes100-guess-challenge-data"},W=(0,L.ZF)(Q);var $=W;const V=(0,n.ri)(K);V.use($),V.use(s.Z,r.Z),V.use((0,o.WB)()),V.provide("axios",V.config.globalProperties.axios),V.mount("#app")}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var s=t[n]={id:n,loaded:!1,exports:{}};return e[n](s,s.exports,a),s.loaded=!0,s.exports}a.m=e,function(){a.amdO={}}(),function(){var e=[];a.O=function(t,n,r,s){if(!n){var o=1/0;for(c=0;c<e.length;c++){n=e[c][0],r=e[c][1],s=e[c][2];for(var u=!0,l=0;l<n.length;l++)(!1&s||o>=s)&&Object.keys(a.O).every((function(e){return a.O[e](n[l])}))?n.splice(l--,1):(u=!1,s<o&&(o=s));if(u){e.splice(c--,1);var i=r();void 0!==i&&(t=i)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[n,r,s]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.p="/forbes-100-guess-challenge/"}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,s,o=n[0],u=n[1],l=n[2],i=0;if(o.some((function(t){return 0!==e[t]}))){for(r in u)a.o(u,r)&&(a.m[r]=u[r]);if(l)var c=l(a)}for(t&&t(n);i<o.length;i++)s=o[i],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(c)},n=self["webpackChunkforbes_100_guess_challenge"]=self["webpackChunkforbes_100_guess_challenge"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(448)}));n=a.O(n)})();
//# sourceMappingURL=app.61d727c2.js.map